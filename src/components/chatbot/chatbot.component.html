<div class="bg-gray-800 rounded-lg border border-purple-700 h-full flex flex-col">
  <!-- Header -->
  <div class="flex items-center px-4 py-3 border-b border-gray-700">
    <div class="w-8 h-8 flex items-center justify-center rounded-full bg-purple-600 mr-2">
      <span class="text-lg">ðŸ’¬</span>
    </div>
    <h2 class="text font-semibold text-white">AI Business Assistant</h2>
  </div>

  <!-- Chat messages -->
  <div
    #chatContainer
    class="flex-1 overflow-y-auto p-4 space-y-3 max-h-[500px]"
    role="log"
    aria-live="polite"
  >
    <div *ngFor="let msg of chatMessages()">
      <div
        class="max-w-[75%] px-3 py-2 rounded-xl text-sm"
        [ngClass]="{
          'bg-purple-600 text-white ml-auto': msg.sender === 'user',
          'bg-gray-700 text-gray-200 mr-auto': msg.sender === 'bot'
        }"
      >
        <p class="whitespace-pre-wrap break-words">{{ msg.text }}</p>
        <span class="text-[10px] block mt-1 opacity-60">
          {{ msg.timestamp }}
        </span>
      </div>
    </div>
  </div>

  <!-- Suggestions (only initially visible) -->
  <div *ngIf="suggestions().length > 0" class="p-3 border-t border-gray-700 flex flex-wrap gap-2">
    <button
      *ngFor="let suggestion of suggestions()"
      class="px-3 py-1 bg-indigo-600 text-white text-xs rounded-full hover:bg-indigo-700 transition"
      (click)="sendMessageFromSuggestion(suggestion)"
    >
      {{ suggestion }}
    </button>
  </div>

  <!-- Input -->
  <div class="flex items-center px-3 py-2 border-t border-gray-700">
    <input
      #messageInput
      type="text"
      class="flex-1 bg-transparent border-none focus:ring-0 text-sm placeholder-gray-400 outline-none"
      placeholder="Ask for business advice..."
      [value]="newUserMessage()"
      (input)="newUserMessage.set($event.target.value)"
      (keydown.enter)="sendMessage()"
      autocomplete="off"
      aria-label="Type your message"
    />
    <button
      class="ml-2 p-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition"
      (click)="sendMessage()"
      aria-label="Send message"
      type="button"
    >
      <svg
        class="w-4 h-4 text-white"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M5 12h14M12 5l7 7-7 7"
        />
      </svg>
    </button>
  </div>
</div>
 